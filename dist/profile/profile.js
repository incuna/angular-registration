!function(a){"use strict";a.module("user_management.profile",["ngRoute"])}(window.angular),function(a){"use strict";var b=a.module("user_management.profile");b.provider("userManagementProfileConfig",function(){var a="",b="/profile";return{$get:function(){return{apiRoot:function(){return a},profileEndpoint:function(){return b}}},setApiRoot:function(b){a=b},setProfileEndpoint:function(a){b=a}}})}(window.angular),function(a){"use strict";var b=a.module("user_management.profile");b.config(["$routeProvider",function(a){a.when("/profile/",{templateUrl:"templates/user_management/profile/profile.html",controller:"ProfileCtrl",anonymous:!1})}])}(window.angular),function(a){"use strict";var b=a.module("user_management.profile");b.factory("profileFactory",["$http","userManagementProfileConfig",function(a,b){var c=b.apiRoot(),d={url:c+b.profileEndpoint(),options:function(){return a({method:"OPTIONS",url:d.url})},get:function(){return a({method:"GET",url:d.url})},patch:function(b){return a({method:"PATCH",url:d.url,data:b})}};return{profile:d}}])}(window.angular),function(a){"use strict";var b=a.module("user_management.profile");b.controller("ProfileCtrl",[function(){}])}(window.angular),function(a){"use strict";var b=a.module("user_management.profile");b.directive("profileForm",["profileFactory",function(b){return{restrict:"A",scope:!0,templateUrl:"templates/user_management/profile/profile_form.html",link:function(c){c.data={},b.profile.get().then(function(b){a.extend(c.data,b.data)});var d=b.profile.options();d.then(function(a){c.fields=a.data.actions.PUT}),c.editProfile=function(){d.then(function(){c.loading=!0,c.updated=!1,a.forEach(c.fields,function(a){a.errors=""}),b.profile.patch(c.data).then(function(a){c.data=a.data,c.updated=!0},function(b){a.forEach(b.data,function(a,b){c.fields[b].errors=a[0]})})["finally"](function(){c.loading=!1})})}}}}])}(window.angular);